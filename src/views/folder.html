{% extends "layout.html" %}

{% block content %}
<div class="container mb-8 mx-auto flex items-center w-full bg-red-100">
  <div class="w-full h-screen bg-white rounded shadow-lg p-8 m-4 md:max-w-sm md:mx-auto">
    <h1 class="block w-full text-center text-3xl text-grey-darkest mb-6">Review</h1>
    <form action="/folder" method="post">
      <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-gray-700 text-s font-bold mb-2" for="name">Restaurant Name</label>
        <input class="border py-2 px-3 text-grey-darkest md:mr-2" type="text" name="name" id="name">
      </div>
      <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-gray-700 text-s font-bold mb-2" for="name">City</label>
        <input class="border py-2 px-3 text-grey-darkest md:mr-2" type="text" name="name" id="name">
      </div>
      <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
        <label class="block uppercase tracking-wide text-gray-700 text-s font-bold mb-2" for="name">Reviews</label>
        <textarea placeholder="type away" class="text-grey-darkest flex-1 p-2 m-1 bg-transparent" name="review" id="review">...</textarea>
      </div>
     <br>
        {{ msg }}
     <br>
      <button type="submit" class="btn">Submit</button>
    </form>
</div>
<script>
  document.querySelector('#myImage').addEventListener('change', (event) => {
    handleImageUpload(event)
  })

  const handleImageUpload = event => {
    const files = event.target.files
    const formData = new FormData()
    formData.append('myImage', files[0])

    fetch('/upload', {
      method: 'POST',
      body: formData
    })
    .then(data => {
      console.log(data)
    })
    .catch(error => {
      console.error(error)
    })
  }
</script>
</div>
{% endblock %}

